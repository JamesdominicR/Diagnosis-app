# Disease Diagnosis from Lab Test Results

## Software rquirements

1. Python3.x

    With these modules installed.
    ```
    Flask
    gunicorn
    matplotlib
    numpy
    pandas
    pickleshare
    scikit-learn
    seaborn
    sklearn
    ```
    Use `pip install <moduleName>` to install those.

2. (optional) Flutter (https://flutter.dev)

    This is needed only if u are planning to build the app.

## Directory contents

1. `base paper.pdf`

    It's the base paper for this project.

2. `dataset/` 
    
    Contains the datasets that are used. 

    **Please Note** : 

    There is a file that is blank(Hematology.csv) in this folder. The reason I haven't shared it's content it is that it is a copy writed file owned by the  authors(Wael Hassan Gomaa and Fahad Kamal Alsheref) of the base paper (which I have placed along with this README file) and I don't have the permission to make a copy of it or share it with anyone without their consent.

    So how to get it?

    Just send a mail to the author of the paper. His mail id is wael.goma@gmail.com. He will share it with you.

    Subject line : Request for dataset used in your paper -  Blood Diseases Detection using Classical Machine Learning Algothms

    Body: Include your college name and ur details and request him for the dataset.

3. `*.ipynb - Jupyter Notebook Files`

    These are python jupyter notebook files where the models were trained and tuned.
  
4. `generated-files/models` 
    
    Contain the random forest models in pkl format generated using the jupyter notebook script.

5. `notebook-resources`

    Not remembering it's use. I think it's not needed.

6. `report v1.docx`

    It's the final report.

7. `app`

    Contains the source code of app and server script. 

    *This is completely optional*

    1. `server`

        Contains the server script. 

        What does it do?

        Simply put , tt uses the files generated by the notebook into  `generated-files/models` to do prediction.

        More detailed:

        We are creating a server in python using the framework called Flask. The main entry point to this is `app.py`. Once we start the server using the command `python app.py`, the server will be up and running on your local machine at port `5000` and  with HTTP POST end points like `/predict-cbc`, `/predict-diabetes` and `/predict-thyroid`. You can send POST request to these points and get diagnosis result according to the data you passes along with the request.

        **For example**, for the route, `/predict-diabetes`, you have to make a request with the following structure,
        ```json
        {
            "data" : {
                "pregnancies" : 1,
                "glucose": 189,
                "insulin" : 846,
                "age" : 59
            },
            "token" : "demo-api-token-4F3jpeacm2aRzZw"
        }
        ```
        This request will use the model corresponding to diabetes prediction(`<projectFolder>/app/server/models/diabetes-model-rf-4.pkl`), take the data you passed in the `data` part of the request(ie, pregnancies, glucose, insulin, age) and pass it to the model. The model will make the prediction and the predicted result will be send to you as response in the format given below:
        ```json
        {
            "status" : 0,
            "diagnosis" : 0 or 1
        }

        #0 means no diabeted, 1 means have diabetes
        ```

        More detailed info on these end points are given in `<projectFolder>/app/server/static/index.html`. Please do refer it.

    2. `diagnosis_app`

        (**Completely optional**)

        Source code of Flutter application for this project.

        How to run this?

        * Go to https://flutter.dev and install Flutter on your system. 
        * Once the installation is done,
        ```sh
        #A small point of note
        #1. Hope your current working directory is <path>/<projectFolder>/app/
        #2. Your computer on which this is running and the phone on which you are planning to run the app are connected to the same network

        #You need to have the server running. Do it using 
        cd ./server
        python app.py

        #Note the ip address
        #if on linux
        ifconfig
        #and copy the ip address

        #if on windows
        ipconfig
        #and copy the ip addres

        #++++++++++++++++++++++++#

        # 1. open the project folder - diagnosis_app in a code editor (Code or android studio as mentioned in the above website)
        # 2. Go to diagnosis_app/lib/globals.dart
        # 3. Place the IP address noted in the file
        final url = '<ip-address-you-noted>:5000';
        # 4. Save the file
        # 5. Build the application and install it on the phone.

        #/ *. Hope it works.
        ```




[mi-CBC-v3.ipynb](https://github.com/al1en-hue/uN2amed/blob/master/mi-CBC-v3.ipynb) is the main project file containing the models and their comparison.

**Copyright Warning** Try your best not to share or make copy of the files.